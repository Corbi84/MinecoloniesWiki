---
import { getEntry } from 'astro:content';

import ResearchEffectBuilding from './ResearchEffectBuilding.astro';
import ResearchEffectRegular from './ResearchEffectRegular.astro';

interface Props {
  effect: string;
  level: number;
}

const { effect, level } = Astro.props;

const effectData = await getEntry('research_effect', effect);
if (effectData === undefined) {
  throw new Error(`Unknown research effect '${effect}'.`);
}
---

{effectData.data.type === 'regular' && <ResearchEffectRegular effect={effectData.data} level={level} />}
{effectData.data.type === 'building' && <ResearchEffectBuilding effect={effectData.data} />}
